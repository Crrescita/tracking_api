<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Payslip</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      font-size: 13px;
    }

    table {
      page-break-inside: avoid;
    }

    tr {
      page-break-inside: avoid;
    }

    .bg-light {
      background-color: #f8f9fa !important;
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- LOGO -->
    <div class="text-center mb-2">
      <img src="https://telindia.s3.ap-south-1.amazonaws.com/employee-verification/36/pan/1769406182776_documentFile2026-01-26T05-43-02.771Z-payslip-header.png" style="max-height:90px">
    </div>

    <!-- COMPANY DETAILS -->
    <div class="bg-light text-center py-3">
      <h6 class="fw-bold">
        <%= company.name %>
      </h6>
      <h6>
        <%= company.address %>
      </h6>
      <h6>Phone: <%= company.phone %>
      </h6>
      <h6>Email Id: <%= company.email %>
      </h6>
      <h6>Website: <%= company.website %>
      </h6>
    </div>

    <div class="bg-light text-center p-2 mt-2">
      <strong>Pay Slip for <%= monthLabel %></strong>
    </div>

    <!-- EMPLOYEE DETAILS -->
    <div class="row mt-3">
      <div class="col-6">
        <p><b>Employee Name:</b>
          <%= emp.name %>
        </p>
        <p><b>Employee Code:</b>
          <%= emp.code %>
        </p>
        <p><b>Work Location:</b>
          <%= emp.location %>
        </p>
        <p><b>Designation:</b>
          <%= emp.designation %>
        </p>
        <p><b>Department:</b>
          <%= emp.department %>
        </p>
      </div>
      <div class="col-6">
        <p><b>Date of Joining:</b>
          <%= emp.joining %>
        </p>
        <p><b>Aadhar No:</b>
          <%= emp.aadhar %>
        </p>
        <p><b>PAN No:</b>
          <%= emp.pan %>
        </p>
        <p><b>Bank Name:</b>
          <%= emp.bank %>
        </p>
        <p><b>Bank A/c No:</b>
          <%= emp.account %>
        </p>
      </div>
    </div>

    <!-- EARNINGS / DEDUCTIONS -->
    <table class="table table-bordered mt-2">
      <thead class="table-light">
        <tr>
          <th>
            Salary Monthly
          </th>
          <th scope="col" class="text-end">
            <i class="bx bx-rupee"></i>
           ₹ <%= monthlySalary %>

          </th>
          <th>
            Total Paid Days
          </th>
          <th scope="col" class="text-end">
            <%= paidDays %>
          </th>
        </tr>
        <tr>
          <th>Earnings</th>
          <th class="text-end">Amount</th>
          <th>Deductions</th>
          <th class="text-end">Amount</th>
        </tr>
      </thead>
      <tbody>
        <% maxRows.forEach((_, i)=> { %>
          <tr>
            <td>
              <%= earnings[i]?.name || "" %>
            </td>
            <td class="text-end">
              <%= earnings[i]?.amount ? "₹ " + earnings[i].amount : "Nil" %>
            </td>
            <td>
              <%= deductions[i]?.name || "" %>
            </td>
            <td class="text-end">
               <%= deductions[i]?.amount ? "₹ " + deductions[i].amount : "Nil" %>
            </td>
          </tr>
          <% }) %>
      </tbody>
      <tfoot class="table-light">
        <tr>
          <th>Total Earnings</th>
          <th class="text-end">₹ <%= totalEarnings %>
          </th>
          <th>Total Deductions</th>
          <th class="text-end">₹ <%= totalDeductions %>
          </th>
        </tr>
      </tfoot>
    </table>

    <!-- NET PAY -->
    <table class="table table-bordered mt-2">
      <tr class="table-light">
        <th>Net Pay</th>
        <th class="text-end">₹ <%= netPay %>
        </th>
      </tr>
      <tr>
        <th>In Words</th>
        <th class="text-end">₹ <%= netPayWords %>
        </th>
      </tr>
    </table>

    <!-- EMPLOYER CTC -->
    <table class="table table-bordered mt-2">
      <thead class="table-light">
        <tr>
          <th colspan="3">Employer's Contribution (CTC)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Earning Gross</td>
          <td></td>
          <td class="text-end">₹ <%= employerCTC.totalEarning %>
          </td>
        </tr>
        <tr>
          <th scope="row">Employer's Provident Fund</th>
          <!-- <td>Employer PF</td> -->
          <td></td>
          <td class="text-end">
            <%= employerCTC.employeerPfAmount ? "₹ " + employerCTC.employeerPfAmount : "Nil" %>
          </td>
        </tr>
        <tr>
          <td colspan="1" class="ps-4 text-start">
            &gt; Pension Fund
          </td>
          <td class="text-end">Nil</td>
          <td class="text-end"></td>
        </tr>
        <tr>
          <td colspan="1" class="ps-4 text-start">
            &gt; Provident Fund
          </td>
          <td class="text-end">
            <%= employerCTC.employeerPfAmount ? "₹ " + employerCTC.employeerPfAmount : "Nil" %>
          </td>
          <td class="text-end"></td>
        </tr>

        <tr>
          <th scope="row">Employer's State Insurance</th>
          <!-- <td>Employer's State Insurance</td> -->
          <td></td>
          <td class="text-end">
            <%= employerCTC.employeerEsiAmount ? "₹ " + employerCTC.employeerEsiAmount : "Nil" %>
          </td>
        </tr>
        <tr class="table-light">
          <th>Total CTC</th>
          <th></th>
          <th class="text-end">₹ <%= employerCTC.totalctc %>
          </th>
        </tr>
        <tr>
          <th>In Words</th>
          <th colspan="2" class="text-end">₹ <%= ctcWords %>
          </th>
        </tr>
      </tbody>
    </table>

    <!-- GROSS SALARY -->
    <table class="table table-bordered mt-2">
      <tr class="table-light">
        <th>Gross Salary</th>
        <th class="text-end">₹ <%= employerCTC.totalEarning %>
        </th>
      </tr>
    </table>


    <!-- FOOTER -->
    <div class="bg-light text-center py-2 mt-3">
      This is a computer-generated document and does not require a signature.
    </div>

  </div>
</body>

</html>